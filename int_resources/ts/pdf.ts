


    /* SVG */

const emailIcon:string = "<svg id='Layer_2' data-name='Layer 2' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'><defs><style>.cls-1{fill:none;stroke-miterlimit:10;}</style></defs><path class='cls-1' d='M167.4,173.4H32.7A24.7,24.7,0,0,1,8,148.8V51.2A24.7,24.7,0,0,1,32.7,26.6H167.4A24.6,24.6,0,0,1,192,51.2v97.6A24.6,24.6,0,0,1,167.4,173.4Z'/><path class='cls-1' d='M183,36.3l-60.1,64.4a31.7,31.7,0,0,1-46.6,0L16.2,36.3'/></svg>";

const phoneIcon:string = "<svg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'><defs><style>.cls-1,.cls-2{fill:none;stroke-miterlimit:10;}.cls-2{stroke-linecap:round;}</style></defs><path class='cls-1' d='M77.1,123a86.8,86.8,0,0,1,8,9.1c6.3,6.9,13.9,13.9,20.2,7,7.3-9.1,19.2-14.8,30.2-8.7,4.2,1.8,15.3,14.4,18.7,17.4a21.6,21.6,0,0,1,3.4,25.9C144,192,118.5,197.6,87,181.4h0a169.8,169.8,0,0,1-39.1-29.2h-.1A175.5,175.5,0,0,1,18.6,113h0C2.5,81.5,8,56,26.4,42.4a21.5,21.5,0,0,1,25.8,3.4c3,3.4,15.7,14.6,17.4,18.7,6.1,11,.4,22.9-8.6,30.2-7,6.3,0,13.9,6.9,20.2A79.4,79.4,0,0,1,77,123Z'/><path class='cls-2' d='M100,9.1A90.9,90.9,0,0,1,190.9,100'/><path class='cls-2' d='M100,49.7A50.3,50.3,0,0,1,150.3,100'/></svg>";

const pinIcon:string = "<svg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'><defs><style>.cls-1{fill:none;stroke-linecap:round;stroke-miterlimit:10;}</style></defs><path class='cls-1' d='M44.4,93C28,53.8,55.3,9.5,97.8,8.1h4.4C144.7,9.5,172,53.8,155.6,93l-36.1,86c-7.3,17.3-31.7,17.3-39,0Z'/><circle class='cls-1' cx='100' cy='66.8' r='27.8'/></svg>";

const dobIcon:string = "<svg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'><defs><style>.cls-1{fill:none;stroke-linecap:round;stroke-miterlimit:10;}</style></defs><line class='cls-1' x1='57.1' y1='8' x2='57.1' y2='42.9'/><path class='cls-1' d='M168.3,26.5c13.7,3.8,23.9,17.1,23.9,32.9v98.5c0,18.7-14.4,34-32,34H39.9c-17.5,0-31.9-15.3-31.9-34V59.4C8,43.6,18.2,30.3,31.9,26.5'/><line class='cls-1' x1='118.8' y1='25.4' x2='81.4' y2='25.4'/><line class='cls-1' x1='143.1' y1='8' x2='143.1' y2='42.9'/><path class='cls-1' d='M100.2,100.3a20.8,20.8,0,0,1,0-41.5H100a20.8,20.8,0,0,1,0,41.5Z'/><path class='cls-1' d='M100.2,158.5H77.5a19.5,19.5,0,0,1-11-3.3,1.8,1.8,0,0,1-.7-.5,16.1,16.1,0,0,1-6.1-12,49.3,49.3,0,0,1,.3-9.4,39.8,39.8,0,0,1,3.3-11.8c1.5-3.6,3.4-7,6.5-9.5a13.5,13.5,0,0,1,9.2-3.4c4.1.1,6.6,2.4,10.4,3.8a34,34,0,0,0,10.5,1.8h.4a34,34,0,0,0,10.5-1.8c3.8-1.4,6.2-3.7,10.4-3.8a13.5,13.5,0,0,1,9.2,3.4c3.1,2.5,5,5.9,6.5,9.5a39.8,39.8,0,0,1,3.3,11.8,49.3,49.3,0,0,1,.3,9.4,16.1,16.1,0,0,1-6.1,12,1.8,1.8,0,0,1-.7.5,19.5,19.5,0,0,1-11,3.3H100.2Z'/></svg>";

const countryIcon:string = "<svg id='Layer_2' data-name='Layer 2' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'><defs><style>.cls-1{fill:none;stroke-linecap:round;stroke-miterlimit:10;}</style></defs><circle class='cls-1' cx='99.7' cy='99.6' r='92.3'/><path class='cls-1' d='M129.8,14.1a768.2,768.2,0,0,1-22.3,88.4,767.2,767.2,0,0,1-31.6,82.9'/><path class='cls-1' d='M75.9,12.2c10.8,5,44.5,22.2,65.1,62,23.7,45.8,13.2,89.3,10.5,99.6'/><path class='cls-1' d='M20.3,55.9a238,238,0,0,0,82.4,45.2,237.3,237.3,0,0,0,87,10'/><path class='cls-1' d='M171.9,45.5A157.1,157.1,0,0,0,87.8,60.9C43.2,83,22.9,119.8,16.7,132.2'/><path class='cls-1' d='M9.1,108.7a214.7,214.7,0,0,0,77.2,43.7,214.1,214.1,0,0,0,78.7,9.5'/></svg>";



    /* Elements */

document.querySelector(".pdf-email-icon")!.innerHTML = emailIcon;
document.querySelector(".pdf-phone-icon")!.innerHTML = phoneIcon;
document.querySelector(".pdf-address-icon")!.innerHTML = pinIcon;
document.querySelector(".pdf-dob-icon")!.innerHTML = dobIcon;
document.querySelector(".pdf-country-icon")!.innerHTML = countryIcon;



//*--|*|--*\\_____// PDF Colors \\_____//*--|*|--*\\


// Elements
const pdfColorInp:NodeListOf<HTMLInputElement> = document.querySelectorAll(".pdf-color");
const asideColorInp:HTMLInputElement | null = document.querySelector(".pdf-color-aside");

const asideTxtColor:HTMLInputElement | null = document.querySelector(".aside-text-color");
const asideTxtWarning:HTMLInputElement | null = document.querySelector(".color-warning");

const asideColorReset:HTMLInputElement | null = document.querySelector(".reset-color-aside");
const mainColorReset:HTMLInputElement | null = document.querySelector(".reset-color-main");
const accentColorReset:HTMLInputElement | null = document.querySelector(".reset-color-accent");

const baseColors:string[] = [
    "#223856",  // aside
    "#07ABDB",  // main
    "#CC1EEC"   // accent
]

// Color lightness
function calcLightness(color){
    const hex = color.slice(1);
  
    // Convert the HEX values to RGB
    const r = parseInt(hex.substr(0, 2), 16) / 255;
    const g = parseInt(hex.substr(2, 2), 16) / 255;
    const b = parseInt(hex.substr(4, 2), 16) / 255;
  
    // Find the minimum and maximum values to calculate the lightness
    const max = Math.max(r, g, b);
    const min = Math.min(r, g, b);
    const lightness = Math.round(((max + min) / 2) * 100);
  
    return lightness;
}

// Color contrast warning
function contrastWarning(){

    // Remove the warning class
    asideTxtWarning?.classList.remove("show-color-warning");

    const textColor:string | undefined = asideTxtColor?.value;
    const asideColor:string | undefined = asideColorInp?.value;

    // Calculate the color lightness
    const colorLightness:number = calcLightness(asideColor);

    // Show the warning message if contrast is bad
    if (textColor === "dark" && colorLightness <= 85 ||
    textColor === "light" && colorLightness >= 60){
        asideTxtWarning?.classList.add("show-color-warning");
    }

}

// Change colors (color inputs)
function inputColorChange(input){
    const inpColor:string = input.value;
    const inpTarget = input.getAttribute("target-color");

    document.documentElement.style.setProperty(`--${inpTarget}`, inpColor);

    contrastWarning();
}

pdfColorInp.forEach(function(input){
    input.addEventListener("input", function(){
        inputColorChange(input);
    });
});

// Change the aside text color
function asideTxtColorChng(){

    const textColor:string | undefined = asideTxtColor?.value;

    switch (textColor){
        case "dark":
            document.body.classList.remove("aside-light-txt");
            document.body.classList.add("aside-dark-txt");
            break;
        case "light":
            document.body.classList.remove("aside-dark-txt");
            document.body.classList.add("aside-light-txt");
            break;
        default:
            document.body.classList.remove("aside-light-txt");
            document.body.classList.remove("aside-dark-txt");
    }

}

asideTxtColorChng();

asideTxtColor!.addEventListener("input", function(){
    asideTxtColorChng();
    contrastWarning();
});



    /* Base colors */

// Aside
function asideBaseColor(){
    pdfColorInp[0].value = baseColors[0];
    inputColorChange(pdfColorInp[0]);
}
asideBaseColor();

// Main
function mainBaseColor(){
    pdfColorInp[1].value = baseColors[1];
    inputColorChange(pdfColorInp[1]);
}
mainBaseColor();

// Accent
function accentBaseColor(){
    pdfColorInp[2].value = baseColors[2];
    inputColorChange(pdfColorInp[2]);
}
accentBaseColor();

// Reset buttons
asideColorReset?.addEventListener("click", asideBaseColor);
mainColorReset?.addEventListener("click", mainBaseColor);
accentColorReset?.addEventListener("click", accentBaseColor);



//*--|*|--*\\_____// Font Size \\_____//*--|*|--*\\



const txtFontSize:HTMLInputElement | null = document.querySelector(".text-size-input");
const headingFontSize:HTMLInputElement | null = document.querySelector(".heading-size-input");



    /* Text */

function pdfTextSize(){

    let fontSizeVal:string = "";

    switch (txtFontSize!.value){
        case "1":
            fontSizeVal = "1.4cqw";
            break;
        case "2":
            fontSizeVal = "1.5cqw";
            break;
        case "3":
            fontSizeVal = "1.6cqw";
            break;
        case "4":
            fontSizeVal = "1.7cqw";
            break;
        case "5":
            fontSizeVal = "1.8cqw";
            break;
    }

    document.documentElement.style.setProperty("--pdf-txt-size", fontSizeVal);

}

pdfTextSize();
txtFontSize?.addEventListener("input", pdfTextSize);



    /* Headings */

function pdfHeadingSize(){

    let fontSizeVal:string = "";

    switch (headingFontSize!.value){
        case "1":
            fontSizeVal = "2.1cqw";
            break;
        case "2":
            fontSizeVal = "2.25cqw";
            break;
        case "3":
            fontSizeVal = "2.4cqw";
            break;
        case "4":
            fontSizeVal = "2.55cqw";
            break;
        case "5":
            fontSizeVal = "2.7cqw";
            break;
    }

    document.documentElement.style.setProperty("--pdf-heading-size", fontSizeVal);

}

pdfHeadingSize();
headingFontSize?.addEventListener("input", pdfHeadingSize);



//*--|*|--*\\_____// Subheading Switch \\_____//*--|*|--*\\



const subHeadingSwitch:HTMLInputElement | null = document.querySelector(".subhead-switch");
const secSubtitles:NodeListOf<Element> = document.querySelectorAll(".pdf-sec-title");
const secIcons:NodeListOf<Element> = document.querySelectorAll(".pdf-sec-icon");

function subHeadSwitch(){

    if (subHeadingSwitch!.checked){

        secIcons.forEach(function(elem){
            elem.classList.remove("subhead-visible");
        });
        secSubtitles.forEach(function(elem){
            elem.classList.add("subhead-visible");
        });

    } else {

        secIcons.forEach(function(elem){
            elem.classList.add("subhead-visible");
        });
        secSubtitles.forEach(function(elem){
            elem.classList.remove("subhead-visible");
        });

    }

}

subHeadSwitch();
subHeadingSwitch?.addEventListener("click", subHeadSwitch);



//*--|*|--*\\_____// Photo \\_____//*--|*|--*\\



// Elements
const photoSize:HTMLInputElement | null = document.querySelector(".photo-size-input");
const photoBorder:HTMLInputElement | null = document.querySelector(".photo-border-input");
const photoRound:HTMLInputElement | null = document.querySelector(".photo-round-input");



    /* Size */

function pdfPhotoSize(){

    const elem:HTMLInputElement | null = photoSize;

    let inpVal:string = "";

    switch (elem!.value){
        case "1":
            inpVal = "40%";
            break;
        case "2":
            inpVal = "50%";
            break;
        case "3":
            inpVal = "60%";
            break;
        case "4":
            inpVal = "70%";
            break;
        case "5":
            inpVal = "80%";
            break;
    }

    document.documentElement.style.setProperty(`--${elem?.getAttribute("id")}`, inpVal);

}

pdfPhotoSize();
photoSize?.addEventListener("input", pdfPhotoSize);



    /* Border Width */

function pdfPhotoBorder(){

    const elem:HTMLInputElement | null = photoBorder;

    let inpVal:string = "";

    switch (elem!.value){
        case "1":
            inpVal = "0";
            break;
        case "2":
            inpVal = "0.25cqw";
            break;
        case "3":
            inpVal = "0.6cqw";
            break;
        case "4":
            inpVal = "0.95cqw";
            break;
        case "5":
            inpVal = "1.3cqw";
            break;
    }

    document.documentElement.style.setProperty(`--${elem?.getAttribute("id")}`, inpVal);

}

pdfPhotoBorder();
photoBorder?.addEventListener("input", pdfPhotoBorder);



    /* Border Width */

function pdfPhotoRadius(){
    const elem:HTMLInputElement | null = photoRound;
    const inpVal:string = (parseFloat(elem!.value) * 5).toString() + "%";

    document.documentElement.style.setProperty(`--${elem?.getAttribute("id")}`, inpVal);
}

pdfPhotoRadius();
photoRound?.addEventListener("input", pdfPhotoRadius);



//*--|*|--*\\_____// Photo \\_____//*--|*|--*\\



    /* Size */

const qrSize:HTMLInputElement | null = document.querySelector(".qr-size-input");

function pdfQrSize(){

    const elem:HTMLInputElement | null = qrSize;

    let inpVal:string = "";

    switch (elem!.value){
        case "1":
            inpVal = "40%";
            break;
        case "2":
            inpVal = "50%";
            break;
        case "3":
            inpVal = "60%";
            break;
        case "4":
            inpVal = "70%";
            break;
        case "5":
            inpVal = "80%";
            break;
    }

    document.documentElement.style.setProperty(`--${elem?.getAttribute("id")}`, inpVal);

}

pdfQrSize();
qrSize?.addEventListener("input", pdfQrSize);